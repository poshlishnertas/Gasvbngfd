-- Creative Alien Duplicator - Fixed Draggable
local Players = game:GetService("Players")
local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Create ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Yt_Saif Script"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = PlayerGui

-- Main Container with Alien Theme
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 180)
MainFrame.Position = UDim2.new(0, 50, 0, 50)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 20, 10)
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0
MainFrame.Active = true  -- Ù…Ù‡Ù… Ù„Ù„Ø³Ø­Ø¨
MainFrame.Selectable = true  -- Ù…Ù‡Ù… Ù„Ù„Ø³Ø­Ø¨
MainFrame.Parent = ScreenGui

-- Alien Glass Effect
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

local UIStroke = Instance.new("UIStroke")
UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(0, 255, 100)
UIStroke.Transparency = 0.3
UIStroke.Parent = MainFrame

-- Alien Header with Glow
local Header = Instance.new("TextLabel")
Header.Size = UDim2.new(1, 0, 0, 40)
Header.Position = UDim2.new(0, 0, 0, 0)
Header.BackgroundTransparency = 1
Header.Text = "Zyrooo Duper"
Header.TextColor3 = Color3.fromRGB(0, 255, 100)
Header.Font = Enum.Font.SciFi
Header.TextSize = 16
Header.TextStrokeTransparency = 0.8
Header.Parent = MainFrame

-- Glowing Duplicate Button
local DuplicateButton = Instance.new("TextButton")
DuplicateButton.Size = UDim2.new(0.8, 0, 0, 50)
DuplicateButton.Position = UDim2.new(0.1, 0, 0.3, 0)
DuplicateButton.BackgroundColor3 = Color3.fromRGB(0, 80, 30)
DuplicateButton.Text = "âš¡ DUPLICATE ITEM"
DuplicateButton.TextColor3 = Color3.fromRGB(0, 255, 100)
DuplicateButton.Font = Enum.Font.SciFi
DuplicateButton.TextSize = 14
DuplicateButton.Parent = MainFrame

-- Button Effects
local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 8)
ButtonCorner.Parent = DuplicateButton

local ButtonStroke = Instance.new("UIStroke")
ButtonStroke.Thickness = 2
ButtonStroke.Color = Color3.fromRGB(0, 255, 150)
ButtonStroke.Parent = DuplicateButton

-- Status Label
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0.9, 0, 0, 40)
StatusLabel.Position = UDim2.new(0.05, 0, 0.7, 0)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "Made by Zyrooo âš¡"
StatusLabel.TextColor3 = Color3.fromRGB(150, 255, 150)
StatusLabel.Font = Enum.Font.SciFi
StatusLabel.TextSize = 12
StatusLabel.TextWrapped = true
StatusLabel.Parent = MainFrame

-- Close Button
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(1, -30, 0, 5)
CloseButton.BackgroundTransparency = 1
CloseButton.Text = "âœ•"
CloseButton.TextColor3 = Color3.fromRGB(255, 50, 50)
CloseButton.Font = Enum.Font.SciFi
CloseButton.TextSize = 16
CloseButton.Parent = MainFrame

-- Draggable System - Fixed
local dragging = false
local dragStart
local startPos

-- Ø¬Ø¹Ù„ Ø§Ù„Ù‡ÙŠØ¯Ø± Ù‚Ø§Ø¨Ù„Ø§Ù‹ Ù„Ù„Ø³Ø­Ø¨
Header.Active = true
Header.Selectable = true

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        -- ØªØºÙŠÙŠØ± Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø§ÙˆØ³
        Header.Text = "âš¡ DRAGGING..."
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                Header.Text = "âš¡ ZYROOO DUPLICATOR"
            end
        end)
    end
end)

Header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale, 
            startPos.X.Offset + delta.X,
            startPos.Y.Scale, 
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Button Hover Effects
DuplicateButton.MouseEnter:Connect(function()
    TweenService:Create(DuplicateButton, TweenInfo.new(0.3), {
        BackgroundColor3 = Color3.fromRGB(0, 120, 50),
        Size = UDim2.new(0.82, 0, 0, 52)
    }):Play()
end)

DuplicateButton.MouseLeave:Connect(function()
    TweenService:Create(DuplicateButton, TweenInfo.new(0.3), {
        BackgroundColor3 = Color3.fromRGB(0, 80, 30),
        Size = UDim2.new(0.8, 0, 0, 50)
    }):Play()
end)

-- Duplication Function
local function smartDuplicate(originalItem)
    if not originalItem then return nil end
    
    local clone = originalItem:Clone()
    local cleanName = originalItem.Name:gsub("%s*%(Copy%)%s*", ""):gsub("%s*$", "")
    clone.Name = cleanName
    
    local backpack = Players.LocalPlayer:FindFirstChild("Backpack")
    if backpack then
        clone.Parent = backpack
        return clone
    end
    
    return nil
end

-- Get Held Item
local function getHeldItem()
    local character = Players.LocalPlayer.Character
    if not character then return nil end
    
    for _, item in ipairs(character:GetChildren()) do
        if item:IsA("Tool") then
            return item
        end
    end
    return nil
end

-- Alien Animation Effects
local function alienSuccessAnimation()
    local pulse1 = TweenService:Create(DuplicateButton, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(0, 255, 100),
        TextColor3 = Color3.fromRGB(0, 0, 0)
    })
    local pulse2 = TweenService:Create(DuplicateButton, TweenInfo.new(0.3), {
        BackgroundColor3 = Color3.fromRGB(0, 80, 30),
        TextColor3 = Color3.fromRGB(0, 255, 100)
    })
    pulse1:Play()
    wait(0.2)
    pulse2:Play()
end

local function alienErrorAnimation()
    local shake1 = TweenService:Create(MainFrame, TweenInfo.new(0.1), {
        Position = MainFrame.Position + UDim2.new(0, 5, 0, 0)
    })
    local shake2 = TweenService:Create(MainFrame, TweenInfo.new(0.1), {
        Position = MainFrame.Position - UDim2.new(0, 5, 0, 0)
    })
    local shake3 = TweenService:Create(MainFrame, TweenInfo.new(0.1), {
        Position = MainFrame.Position
    })
    
    shake1:Play()
    wait(0.1)
    shake2:Play()
    wait(0.1)
    shake3:Play()
end

-- Main Duplicate Function
DuplicateButton.MouseButton1Click:Connect(function()
    local heldItem = getHeldItem()
    
    if heldItem then
        DuplicateButton.Text = "ðŸ”„ DUPLICATING..."
        StatusLabel.Text = "Zyrooo technology working..."
        
        local success, result = pcall(function()
            return smartDuplicate(heldItem)
        end)
        
        if success and result then
            DuplicateButton.Text = "âœ… SUCCESS!"
            StatusLabel.Text = "Made by Zyrooo âš¡\nItem duplicated!"
            alienSuccessAnimation()
        else
            DuplicateButton.Text = "âŒ FAILED"
            StatusLabel.Text = "Made by Zyrooo âš¡ 
\nDuplication failed!"
            alienErrorAnimation()
        end
        
        wait(1.5)
        DuplicateButton.Text = "âš¡ DUPLICATE ITEM"
        StatusLabel.Text = "Made by Alien ðŸ‘½"
    else
        DuplicateButton.Text = "âŒ NO ITEM"
        StatusLabel.Text = "Made by Zyrooo âš¡
\nHold a tool first!"
        alienErrorAnimation()
        wait(1)
        DuplicateButton.Text = "âš¡ DUPLICATE ITEM"
        StatusLabel.Text = "Made by Zyrooo âš¡"
    end
end)

-- Close Function
CloseButton.MouseButton1Click:Connect(function()
    local fadeOut = TweenService:Create(MainFrame, TweenInfo.new(0.5), {
        BackgroundTransparency = 1,
        Position = UDim2.new(0, MainFrame.Position.X.Offset, -1, 0)
    })
    fadeOut:Play()
    wait(0.5)
    ScreenGui:Destroy()
end)

-- Auto-detect equipped tools
local function onCharacterAdded(character)
    character.ChildAdded:Connect(function(child)
        if child:IsA("Tool") then
            wait(0.3)
            StatusLabel.Text = "Made by Yt_Saif
 âš¡\nTool detected!"
        end
    end)
end

Players.LocalPlayer.CharacterAdded:Connect(onCharacterAdded)
if Players.LocalPlayer.Character then
    onCharacterAdded(Players.LocalPlayer.Character)
end

-- Initial Fade-in
wait(0.5)
TweenService:Create(MainFrame, TweenInfo.new(0.8), {
    BackgroundTransparency = 0.1
}):Play()

print("âš¡ Yt_Saif Script Loaded!")
print("ðŸŽ¯ Click and drag the HEADER to move the window!")
print("âœ¨ Made by Yt_Saif - Now fully draggable!")
